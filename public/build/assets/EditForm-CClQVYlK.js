import{J as T}from"./Label-CK0f_1Hr.js";import{I as U}from"./InertiaButton-CgApzWcp.js";import{J as C}from"./InputError-Yl9b8Rx0.js";import{u as A,a as F,w as n,n as a,r as m,o as p,d as o,h as b,b as t,j as E,e as y,i as B,F as I}from"./main-CCoSWOgv.js";import{a as M,b as N,J as R}from"./JigTab-Nr0OKfxE.js";import{J as S}from"./Checkbox-f85nBy3B.js";import{J as P}from"./JigDatepicker-_1b8EtFo.js";import{J as Y}from"./Input-loptDDaH.js";import{J as L}from"./JigTextarea-Dj0pklsY.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./component-DnD0jkPy.js";const K={name:"EditUsersForm",props:{model:Object,roles:Object},components:{InertiaButton:U,JetLabel:T,JetInputError:C,JetInput:Y,JigDatepicker:P,JetCheckbox:S,JigTextarea:L,JigTabLink:M,JigTabs:N,JigTab:R},data(){return{form:A({...this.model,assigned_roles:this.roles,password_confirmation:null},{remember:!1}),activeTab:"basic-info",tabActiveClasses:"bg-primary font-bold text-secondary rounded-t-lg hover:bg-primary-500"}},mounted(){},computed:{flash(){return this.$page.props.flash||{}}},methods:{async updateModel(){this.form.put(this.route("admin.users.update",this.form.id),{onSuccess:c=>{this.flash.success?this.$emit("success",this.flash.success):this.flash.error?this.$emit("error",this.flash.error):this.$emit("error","Unknown server error.")},onError:c=>{this.$emit("error","A server error occurred")}},{remember:!1,preserveState:!0})},async toggleRole(c){const s=this;axios.post(this.route("api.users.assign-role",this.form.id),{role:c}).then(d=>{this.$inertia.reload({preserveState:!0}),this.displayNotification("success",d.data.message)}).catch(d=>{var u,e;this.displayNotification("error",((e=(u=d.response)==null?void 0:u.data)==null?void 0:e.message)||d.message||d),s.form.assigned_roles[c.name].checked=!c.checked})}}},O={class:"sm:col-span-4"},z={class:"sm:col-span-4"},D={class:"sm:col-span-4"},q={class:"sm:col-span-4"},G={class:"sm:col-span-4"},Q={class:"sm:col-span-4"},W={class:"sm:col-span-4"},X={class:"sm:col-span-4"},Z={class:"sm:col-span-4"},$={class:"sm:col-span-4"},ee={class:"mt-2 text-right"},oe={class:"my-2 border rounded-md p-3"},re=t("h3",{class:"font-bold py-3 text-lg"},"Assign Roles",-1),se=t("hr",null,null,-1),te={class:"p-2 mt-2 border rounded"};function ae(c,s,d,u,e,_){const g=m("jig-tab-link"),l=m("jet-label"),f=m("jet-input"),i=m("jet-input-error"),v=m("jig-textarea"),h=m("jig-datepicker"),k=m("inertia-button"),w=m("jig-tab"),x=m("jet-checkbox"),j=m("jig-tabs");return p(),F(j,{class:a("border-none"),"nav-classes":"bg-secondary-300 rounded-t-lg border-b-4 border-primary"},{nav:n(()=>[o(g,{onActivate:s[0]||(s[0]=r=>e.activeTab=r),"active-classes":e.tabActiveClasses,"tab-controller":e.activeTab,tab:"basic-info"},{default:n(()=>[b("Basic Info ")]),_:1},8,["active-classes","tab-controller"]),o(g,{onActivate:s[1]||(s[1]=r=>e.activeTab=r),"active-classes":e.tabActiveClasses,"tab-controller":e.activeTab,tab:"assign-roles"},{default:n(()=>[b("Assign Roles ")]),_:1},8,["active-classes","tab-controller"])]),content:n(()=>[o(w,{name:"basic-info","tab-controller":e.activeTab},{default:n(()=>[t("form",{onSubmit:s[12]||(s[12]=E((...r)=>_.updateModel&&_.updateModel(...r),["prevent"]))},[t("div",O,[o(l,{for:"name",value:"Name"}),o(f,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.name}]),type:"text",id:"name",name:"name",modelValue:e.form.name,"onUpdate:modelValue":s[2]||(s[2]=r=>e.form.name=r)},null,8,["modelValue","class"]),o(i,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),t("div",z,[o(l,{for:"email",value:"Email"}),o(f,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.email}]),type:"text",id:"email",name:"email",modelValue:e.form.email,"onUpdate:modelValue":s[3]||(s[3]=r=>e.form.email=r)},null,8,["modelValue","class"]),o(i,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])]),t("div",D,[o(l,{for:"password",value:"Password"}),o(f,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.password}]),type:"password",id:"password",name:"password",modelValue:e.form.password,"onUpdate:modelValue":s[4]||(s[4]=r=>e.form.password=r)},null,8,["modelValue","class"]),o(i,{message:e.form.errors.password,class:"mt-2"},null,8,["message"])]),t("div",q,[o(l,{for:"password_confirmation",value:"Repeat Password"}),o(f,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.password_confirmation}]),type:"password",id:"password_confirmation",name:"password_confirmation",modelValue:e.form.password_confirmation,"onUpdate:modelValue":s[5]||(s[5]=r=>e.form.password_confirmation=r)},null,8,["modelValue","class"])]),t("div",G,[o(l,{for:"profile_photo_path",value:"Profile Photo Path"}),o(f,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.profile_photo_path}]),type:"text",id:"profile_photo_path",name:"profile_photo_path",modelValue:e.form.profile_photo_path,"onUpdate:modelValue":s[6]||(s[6]=r=>e.form.profile_photo_path=r)},null,8,["modelValue","class"]),o(i,{message:e.form.errors.profile_photo_path,class:"mt-2"},null,8,["message"])]),t("div",Q,[o(l,{for:"two_factor_secret",value:"Two Factor Secret"}),o(v,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.two_factor_secret}]),id:"two_factor_secret",name:"two_factor_secret",modelValue:e.form.two_factor_secret,"onUpdate:modelValue":s[7]||(s[7]=r=>e.form.two_factor_secret=r)},null,8,["modelValue","class"]),o(i,{message:e.form.errors.two_factor_secret,class:"mt-2"},null,8,["message"])]),t("div",W,[o(l,{for:"two_factor_recovery_codes",value:"Two Factor Recovery Codes"}),o(v,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.two_factor_recovery_codes}]),id:"two_factor_recovery_codes",name:"two_factor_recovery_codes",modelValue:e.form.two_factor_recovery_codes,"onUpdate:modelValue":s[8]||(s[8]=r=>e.form.two_factor_recovery_codes=r)},null,8,["modelValue","class"]),o(i,{message:e.form.errors.two_factor_recovery_codes,class:"mt-2"},null,8,["message"])]),t("div",X,[o(l,{for:"email_verified_at",value:"Email Verified At"}),o(h,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.email_verified_at}]),"data-date-format":"Y-m-d H:i:s","data-alt-input":!0,"data-alt-format":"l M J, Y at h:i K","data-default-hour":"9","data-enable-time":!0,name:"email_verified_at",modelValue:e.form.email_verified_at,"onUpdate:modelValue":s[9]||(s[9]=r=>e.form.email_verified_at=r),id:"email_verified_at"},null,8,["modelValue","class"]),o(i,{message:e.form.errors.email_verified_at,class:"mt-2"},null,8,["message"])]),t("div",Z,[o(l,{for:"two_factor_confirmed_at",value:"Two Factor Confirmed At"}),o(h,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.two_factor_confirmed_at}]),"data-date-format":"Y-m-d H:i:s","data-alt-input":!0,"data-alt-format":"l M J, Y at h:i K","data-default-hour":"9","data-enable-time":!0,name:"two_factor_confirmed_at",modelValue:e.form.two_factor_confirmed_at,"onUpdate:modelValue":s[10]||(s[10]=r=>e.form.two_factor_confirmed_at=r),id:"two_factor_confirmed_at"},null,8,["modelValue","class"]),o(i,{message:e.form.errors.two_factor_confirmed_at,class:"mt-2"},null,8,["message"])]),t("div",$,[o(l,{for:"current_team_id",value:"Current Team Id"}),o(f,{class:a(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.current_team_id}]),type:"text",id:"current_team_id",name:"current_team_id",modelValue:e.form.current_team_id,"onUpdate:modelValue":s[11]||(s[11]=r=>e.form.current_team_id=r)},null,8,["modelValue","class"]),o(i,{message:e.form.errors.current_team_id,class:"mt-2"},null,8,["message"])]),t("div",ee,[o(k,{type:"submit",class:"bg-primary font-semibold text-white",disabled:e.form.processing},{default:n(()=>[b("Submit")]),_:1},8,["disabled"])])],32)]),_:1},8,["tab-controller"]),o(w,{name:"assign-roles","tab-controller":e.activeTab},{default:n(()=>[t("div",oe,[re,se,t("div",te,[(p(!0),y(I,null,B(e.form.assigned_roles,(r,J)=>(p(),y("div",{style:{cursor:"pointer"},key:J,class:"sm:col-span-4 px-10 flex border-b border-gray-100 justify-between py-3 items-center my-2"},[o(l,{for:r.name,class:"inline-block font-black text-xl",value:r.title},null,8,["for","value"]),o(x,{onChange:V=>_.toggleRole(r),class:a(["p-2 inline-block",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.assigned_roles}]),type:"checkbox",id:r.name,name:r.name,checked:r.checked,modelValue:r.checked,"onUpdate:modelValue":V=>r.checked=V},null,8,["onChange","id","name","checked","modelValue","onUpdate:modelValue","class"])]))),128))])])]),_:1},8,["tab-controller"])]),_:1})}const ge=H(K,[["render",ae]]);export{ge as default};
